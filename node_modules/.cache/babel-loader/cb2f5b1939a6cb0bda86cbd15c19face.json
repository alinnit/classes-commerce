{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alin\\\\Desktop\\\\Projects\\\\class-commerce\\\\src\\\\Components\\\\Context.js\";\nimport React, { Component } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const DataContext = /*#__PURE__*/React.createContext();\nexport class DataProvider extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      categories: [],\n      product: {},\n      currentCategory: \"all\",\n      currentProductId: \" \"\n    };\n  }\n\n  componentDidMount() {\n    this.loadCategories();\n    this.loadProduct();\n  }\n\n  async loadCategories() {\n    const res = await fetch(\"http://localhost:4000/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        query: `\n          query {\n            categories {\n              name\n              products {\n                id\n                name\n                inStock\n                gallery\n                description\n                category\n                attributes {\n                  id\n                  name\n                  type\n                  items {\n                    displayValue\n                    value\n                    id\n                  }\n                }\n                prices {\n                  currency {\n                    label\n                    symbol\n                  }\n                  amount\n                }\n                brand\n              }\n            }\n        }\n         `\n      })\n    });\n    const {\n      data\n    } = await res.json();\n    const {\n      categories\n    } = data || {};\n    this.setState({\n      categories\n    });\n  }\n\n  async loadProduct() {\n    // TO DO -> add dynamic product ID\n    const res = await fetch(\"http://localhost:4000/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        query: `\n          query {\n              product (id: ${this.state.currentProductId}) { \n              id\n              name\n              inStock\n              gallery\n              description\n              category\n              attributes {\n                id\n                name\n                type\n                items {\n                  displayValue\n                  value\n                  id\n                }\n              }\n              prices {\n                currency {\n                  label\n                  symbol\n                }\n                amount\n              }\n              brand\n            }\n          }\n         `\n      })\n    });\n    const {\n      data\n    } = await res.json();\n    const {\n      product\n    } = data || {};\n    this.setState({\n      product\n    });\n  }\n\n  render() {\n    const {\n      categories,\n      product,\n      currentCategory,\n      currentProductId\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(DataContext.Provider, {\n      value: {\n        categories,\n        product,\n        currentCategory,\n        currentProductId,\n        updateCategory: name => {\n          this.setState({\n            currentCategory: name\n          });\n        }\n      },\n      children: this.props.children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 6\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Alin/Desktop/Projects/class-commerce/src/Components/Context.js"],"names":["React","Component","DataContext","createContext","DataProvider","constructor","props","state","categories","product","currentCategory","currentProductId","componentDidMount","loadCategories","loadProduct","res","fetch","method","headers","body","JSON","stringify","query","data","json","setState","render","updateCategory","name","children"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAEA,OAAO,MAAMC,WAAW,gBAAGF,KAAK,CAACG,aAAN,EAApB;AAEP,OAAO,MAAMC,YAAN,SAA2BH,SAA3B,CAAqC;AAC3CI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,UAAU,EAAE,EADD;AAEXC,MAAAA,OAAO,EAAE,EAFE;AAGXC,MAAAA,eAAe,EAAE,KAHN;AAIXC,MAAAA,gBAAgB,EAAE;AAJP,KAAb;AAMD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,cAAL;AACA,SAAKC,WAAL;AACD;;AAEmB,QAAdD,cAAc,GAAG;AACtB,UAAME,GAAG,GAAG,MAAMC,KAAK,CAAC,wBAAD,EAA2B;AAC9CC,MAAAA,MAAM,EAAE,MADsC;AAE9CC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAFqC;AAG9CC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,KAAK,EAAG;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjC2B,OAAf;AAHwC,KAA3B,CAAvB;AAuCE,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAMR,GAAG,CAACS,IAAJ,EAAvB;AACA,UAAM;AAAEhB,MAAAA;AAAF,QAAiBe,IAAI,IAAI,EAA/B;AACA,SAAKE,QAAL,CAAc;AAAEjB,MAAAA;AAAF,KAAd;AACF;;AAEgB,QAAXM,WAAW,GAAG;AAAE;AACrB,UAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,wBAAD,EAA2B;AAC9CC,MAAAA,MAAM,EAAE,MADsC;AAE9CC,MAAAA,OAAO,EAAE;AAAE,wBAAgB;AAAlB,OAFqC;AAG9CC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBC,QAAAA,KAAK,EAAG;AAChB;AACA,6BAA6B,KAAKf,KAAL,CAAWI,gBAAiB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9B2B,OAAf;AAHwC,KAA3B,CAAvB;AAoCE,UAAM;AAAEY,MAAAA;AAAF,QAAW,MAAMR,GAAG,CAACS,IAAJ,EAAvB;AACA,UAAM;AAAEf,MAAAA;AAAF,QAAcc,IAAI,IAAI,EAA5B;AACA,SAAKE,QAAL,CAAc;AAAEhB,MAAAA;AAAF,KAAd;AACF;;AAGDiB,EAAAA,MAAM,GAAG;AACP,UAAM;AAAElB,MAAAA,UAAF;AAAcC,MAAAA,OAAd;AAAuBC,MAAAA,eAAvB;AAAwCC,MAAAA;AAAxC,QAA6D,KAAKJ,KAAxE;AACA,wBACE,QAAC,WAAD,CAAa,QAAb;AAAsB,MAAA,KAAK,EAAE;AAC3BC,QAAAA,UAD2B;AAE3BC,QAAAA,OAF2B;AAG3BC,QAAAA,eAH2B;AAI3BC,QAAAA,gBAJ2B;AAK3BgB,QAAAA,cAAc,EAAGC,IAAD,IAAU;AACzB,eAAKH,QAAL,CAAc;AAAEf,YAAAA,eAAe,EAAEkB;AAAnB,WAAd;AACA;AAP0B,OAA7B;AAAA,gBAUG,KAAKtB,KAAL,CAAWuB;AAVd;AAAA;AAAA;AAAA;AAAA,YADF;AAcD;;AAxH0C","sourcesContent":["import React, { Component } from \"react\";\n\nexport const DataContext = React.createContext()\n\nexport class DataProvider extends Component {\n constructor(props) {\n   super(props)\n   this.state = {\n     categories: [],\n     product: {},\n     currentCategory: \"all\",\n     currentProductId: \" \"\n   }\n }\n\n componentDidMount() {\n   this.loadCategories()\n   this.loadProduct()\n }\n\n async loadCategories() {\n  const res = await fetch(\"http://localhost:4000/\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        query: `\n          query {\n            categories {\n              name\n              products {\n                id\n                name\n                inStock\n                gallery\n                description\n                category\n                attributes {\n                  id\n                  name\n                  type\n                  items {\n                    displayValue\n                    value\n                    id\n                  }\n                }\n                prices {\n                  currency {\n                    label\n                    symbol\n                  }\n                  amount\n                }\n                brand\n              }\n            }\n        }\n         `\n      })\n    })\n    const { data } = await res.json()\n    const { categories } = data || {}\n    this.setState({ categories })\n }\n\n async loadProduct() { // TO DO -> add dynamic product ID\n  const res = await fetch(\"http://localhost:4000/\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({\n        query: `\n          query {\n              product (id: ${this.state.currentProductId}) { \n              id\n              name\n              inStock\n              gallery\n              description\n              category\n              attributes {\n                id\n                name\n                type\n                items {\n                  displayValue\n                  value\n                  id\n                }\n              }\n              prices {\n                currency {\n                  label\n                  symbol\n                }\n                amount\n              }\n              brand\n            }\n          }\n         `\n      })\n    })\n    const { data } = await res.json()\n    const { product } = data || {}\n    this.setState({ product })\n }\n\n\n render() {\n   const { categories, product, currentCategory, currentProductId } = this.state\n   return (\n     <DataContext.Provider value={{\n       categories,\n       product,\n       currentCategory,\n       currentProductId,\n       updateCategory: (name) => {\n        this.setState({ currentCategory: name })\n       }\n      }}\n     >\n       {this.props.children}\n     </DataContext.Provider>\n   )\n }\n\n}"]},"metadata":{},"sourceType":"module"}